language: java
dist: trusty
os: linux

jdk:
  - openjdk11

cache:
  directories:
    - "$HOME/.m2"

install:
  - mvn --settings .travis/settings.xml install sonar:sonar -B -V -Pcoverage,sonar

before_install:
    - if [ ! -z "$GPG_SECRET_KEYS" ]; then echo $GPG_SECRET_KEYS | base64 --decode | $GPG_EXEC --import; fi
    - if [ ! -z "$GPG_OWNERTRUST" ]; then echo $GPG_OWNERTRUST | base64 --decode | $GPG_EXEC --import-ownertrust; fi

deploy:
  -
    provider: script
    script: .travis/deploy.sh
    on:
      branch: master

addons:
  sonarcloud:
    organization: sparkmuse-github
    token:
      secure: "Tpo4SBxP5IBeZf3PA9sluTR2ocpfmxOhfLtqKdJ1FogpTmtynzfrNJrlRZBZtBCZzvWy5DZpsBd9q4PHIRe4tPSAjDn0YJfbyBBO50CI9OeYvGTxKFgWF8MrL4gVvlcoARKNFTSqgZrzGZMXH7qSvKwN+QiF8lMTRPlfrXCM2ifSypfaZNZHQj2Twk9I/DQKng7kBKL4GKMbtm1dGFhMQTZnoSm3KzJ0EEgf3RmMaBF1lnFXH5s9mgOz4ZzYaq3MtZZJ4Vy0ieaHoFHj/zqFk4XMCwb8lkA6Jqfdl+CTNCS11iyZcYVvtzVuKeWfqanCIyTBCxyIThlYUqDQsnpteaH1Pro4VWQkL6ZfNniFv2+L7FZKN8QKWO6FZoZ1/XA7fKxn2rAKTqGX4urVlYsD3xKkASQQ5Lj75F3c3pFEve/OGen+NbQSFGtBL4COhBOhlldTI/RBfUMUIXgbEE/3TzLIQ3n0j83UriQMYrsxc5gWovqSbLuBhPZtS0annwWu8Ca9tRmL3+4iuEcDoX6W/2c1Hqk9GCxz5DknAcegTnYbrz3DObXnNwHiR/bzF8tdmx0sTYTkwThXA8QXhU/urPvVyzbHBJ9XBOSPPiQvZdbGvoygZOO0Fj1kC9PsimbvdPPx5LFHEcNymyX2s9WtsaFRln7M41NDSFZ3w+2esjQ="

env:
    global:
     # GPG_EXEC
    - secure: "Gx8fNR3UNMxbQbl56VN0V3e7MljQ7HBRqKMzR62elmKDluwCoPqe/2bV5wHEYM6UkTDGPtWXANjnB2ldqAqCTo9lvgQYmwVNSUJKFFeqxVmpehlc3wtEBuCmwMKA1WjSQm0ZL2DG6kPrNUrMkSzdN80jsye+k9Mr9hRFzYZJlursnNksRvzgV+TtOifZCkIBtTqFp+jxNEYMQMY62TEpxEVl8TdMw+WFVZh35pFziu50r8nuGnoQdW4PfNa4yinMdDY19CD1vmI0/HO09neKyBokrd4C5F4237DuY3bPnfR/n3tHhhWGREqIqSUYCpK5F26n9p1HLHzR+Q8/U/RjTLaxo6mJ34UAumZvNMOQ+LqtL/zeTj1io7akTBrjyV2UyGkF0ybGpk2zsHm/kDYmNeB0pdvzTWAvgfE1fzwxEYjRwZYLSSi8YRwvwT72UMIYf0xx4UUCfaSLsKKfEwVKUpkeUDF/hqeFm3CskntLegjZmaH3XZ/4z1ODWvynkIuw3wr23FzcATDpmr15p9uK7ZJGLKT/dPtG9IGb/OLL/Q6v3RLEciYByDqAFxmIPnZcEyYFwFU3+a3U4qipEDck0cAjyOKk0nVRmDYralgSST7c+f8syTzwjLy7pAxHJ05luNzz3nsA7A844hgcrSTeuBQYX8WSe+OwW86k20aXNSM="
     # GPG_OWNERTRUST
    - secure: "I+7JrE0uf234uvpYCeifkb1fuJslnPwG7I1sJOuRvhatsjIT+CAMbT3TZE0w4WEIVpmSJ+nopMoYomkXQtC8VIcFoZvUIh3E+R4+VXy8K+Om/p2g2ohXPaNYouRS9/6rY/jJPKfE4brnFMUbRUwViE/lmfUl1PPZzPyfhAcgyfrLM9+b2HovZ0sOjkrPjHjS472+O/QJWALBUyezmAeC1ZL2u2c/WIhs+9kNeTwNuDKZTBv7X8mStVU+viDeWr21YxLHdFl0CABp0edOgmI5HaHcHMQB1mMSH8R5z+wLz9dVmsJWPivA0W7gZzryeuiqU4caqug4EhpoTvYhu4Zt4vG0pKKlDXHJNV2rK6yzotBM9DEHcLlzPXGtRFD4pIfiiHlUuEyGZs7BguEGYOsecb2lWazG8ni05yFka/t4JWkTZbpTwOJBavzNlZ2yh0JtPUtXuaSfzIEbMMPWwn4NwQ5kADa7b6fq6MMfI6xD6F82gjKnw1TaBJFkO4aCOIl50CDvJIo/T0c815BE5nvUcljsX5UZSUBeSB797OGB/L0+zdQwgZQGUb1jL1KMIwq/3KGpPEhSVrANyIySmeXoes6efn2L9LdMh/3LkODbxJ1L1Eq9K2+wDljaaTutBOZyCT18W19UiNaCdGV3jx92057+jd7QhgsLrTgNMutRYKk="
     # GPG_PASSPHRASE
    - secure: "O8ES2D6gtp+Eu///L5ysF1ZKjUyEtljY8Z4LmQFvkwPXU2MEmbUgbMqv6qUMnu82P143PVneuStC8xThWzfml40wIZyRRiMmMaY6AEC7OLJOJiMrsP49lExMSKcOwfaIQ9IA0ZmIjP0RIVy0sPx0KhYGIa/EMCbf0vSwQKGQsD8uGy2AMnMqA+1+ZoKeIpokduLbs+PzP4+FVqoSL/xI+T144h2pwLAe5o97iw6omsbB1owroV4u7AJJsJdofb386tquqOeBlAsuSGVXesjQ1/acVTp8jk+6nDFac7iTXEwpYdp46Y+KzJRcIrojE15Pej7GtziCEYBGfPqV2BHgSO0h2ZqxlHrWUKdNIS0xFW5uB5hBcTff2O2FvalmvdCDYPqw0RQV6A5phJKDFaZu7fppKRWusTMHG/CZSb9Y5tRWsGeVugfrym8ihbEJ0ioABQo6G5f+gtDFXyg+20nsEVCR8N1K1TSZ+FYDHy9zFdBbpy7MIMBdec2FYxjtrvcP1gmNrwf2g1Aa0wWNg9dQqX1v9PZMy4hAXM9huUMUIders0tQjFb1yo9NQLjbdCAEYbE7QkY8YjOdSbStM/SF9JPLJbe1OlXeW8pm9O0Tw+i5yp2X4oCFrOop0xxISD4yEloY5ZrgXmS9FKkzGgNIuTluYxjqIy9eCt/X550j8mk="
     # GPG_SECRET_KEYS (set online value too large)
     # NEXUS_PASSWORD
    - secure: "urWD7ZaeCwVDI5+mm8rzONed30lA1OMtw02KzqIYvDajRNaRWAHElqb1N2Cvz8KYT6JoLrRLM3wo9P/2lAxLlGUrRd8hIYKLdDRGRspOBK1ol2CPRwm1gx99AsfDbi8sO7y7mhuwJNZruzdTyV3uZXND84DOOLm8gr8JYY03yA4uxhbvJY2DPcd4dzRA8da+8G18fz0JfpfOQ49TDHveHsDF9pmlaAVZ2h3gz2UmPt0XH+4yB0KKg36TKkyuHCndQ75v3S79SQGwqZBaAXWLhQqa6RJw1janP7l+9JiKY5AFuNYtidlmf9+BjAMgKsDwk/iJmvJWXWYTGsNUlaQv9ear4kpQikXJALsXp6VOKAhWUSni/8Mbxqe1JsAhBx1vw75jOUTrzu491sDVPb1hLSGFpniRIaxWlR4KkmLmA7YRpBy3qC04yWuj/XIGXUIxpw5GwFHCWOHl7z6z+/xRQwwrNcA61rQcKogx5Y+JstjJ+1DeNTQbH44GqaA3llb5eakf2uLizyp7BHKtqYrXPW/UQbJOoqXkhbl7o0bX7at5+3ARkrYUAUjZu1wnh9lZdge6MQ9B877lBDW6WoVbAWiUSWuZd7JvHbMx4QVn3LnBXbsJVMbUs5soD4vldAQNvM4MRYsiAOCc0nZ+RfTV7OFNne+x42YogzPwtiIjmQc="
     # NEXUS_USERNAME
    - secure: "LIDzOsZB37dSap7cQHpD1hHfABxYwDG8uEE7ai78W2O0Jp/lKsPYfkTSiHJnCfJMhp09veyj9NKOmRq6/bzD46iLpK1qukdhVmvXDqy9BCIzP1ZhaLd82nQd+0scjlZYTqE5OEnj6VWposwQsAax3lViTyKCAbPiCShTf9LYn/EencE/i9XqNk0DIPFw8wgks31RXfecGevKqBzdfDLXK3jbxiU5bK6YTZMRAu95qT2AzFGheteWillY+Uh3DIjelcIUaa630L8dDYPVkkAHdSmJmu1u+j8eKSplzIcZGmAp4z1FjYjC0UZex0NNzP9PPdsj4bh1l9fTBfWm9ZwezPGjwLad7EX4BWIKnE+9xjqq0pQrby4FX2yWmNviohsu3dnKph6fwx7j33JFlV5a5rF8IRT26aWMkQ7UTX3dvPk3tHdNXo/gxB3wcOf24BTmrO54zq01AQFd8uC658T71TvAHHlc31D9/HwVQjRVTg0dDE+4lTa5iEReBFpwp2IZ2k9hvVe4/M4uof61wZAO+hS5J8tDn7+7ZX6A0I4cu1pCraiUm0oGL4B6e0cwac3AN7OhIrH6D0KCM0vBiKdPxXwkvlWN/bAerXIfEQbWk06VCjOJk6gLFGocNePHV6/wHRPBN9d7k9PY6PsWSb+TY2C4/V5WtGBjx3DhX1H1CXs="
